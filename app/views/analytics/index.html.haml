- content_for :head do
  = javascript_include_tag "d3"
  = javascript_include_tag "lib/namespace"
  = javascript_include_tag "lib/dispatcher-util"
  = javascript_include_tag "analytics/model/analytics"
  = javascript_include_tag "angular/analytics/index"
  = javascript_include_tag "analytics/constants"
  = javascript_include_tag "analytics/analytics-application"
  = javascript_include_tag "analytics/model/d3-color-manager"
  = javascript_include_tag "analytics/model/d3-model"
  = javascript_include_tag "analytics/controller/d3-controller"
  = javascript_include_tag "analytics/view/d3"
  = javascript_include_tag "analytics/view/d3-example1"
  = javascript_include_tag "analytics/view/forms"

.row
  %h1 Analytics
  %br/
.row
  .col-md-3
  .col-md-9
    -# = link_to 'New Invitation', new_invitation_path, :class => 'btn btn-primary btn-large'
%br/

-#.row{'ng-app' => 'analyticsIndex', 'ng-controller' => 'analyticsCtrl'}
.row{'ng-app' => 'd3AngularApp', 'ng-controller' => 'MainCtrl'}
  -# analytics filter
  .col-md-3
    %form.form-horizontal{'role' => 'form'}
      .form-group
        .col-sm-5
          %label.control-label Filter 
        .col-sm-7
          %input.form-control{'ng-model'=>'query'}
      -# student ids
      - @students.each_with_index do |student, i|
        .form-group
          .col-md-7
            %label.control-label
              - if(i==0)
                = t('terms.student_id', :count => 3)
          .col-md-5.checkbox
            %label
              %input.onlyStudent{'type'=>'checkbox', 'ng-model'=>"only_#{student.student_id}"}= student.student_id
      -# core courses
      - @core_courses.each_with_index do |course, i|
        .form-group
          .col-md-7
            %label.control-label
              - if(i==0)
                = t('terms.core_course')
          .col-md-5.checkbox
            %label
              %input.onlyCourse{'type'=>'checkbox', 'ng-model'=>"only_#{course.name}"}= course.name.capitalize
      -# test ng-repeat
      .title_student
        Student Ng-repeat
      %aku-student-checkbox{"on-click"=>"onClick()", "data" => "person1"}
      %aku-student-checkbox{"on-click"=>"onClick()", "data" => "person2"}
      %ul
        %li{'ng-repeat' => 'student in students'}
          .student
            {{student.student_id}}
  -# analytics visual
  .col-md-9
    %div{"d3-bars" => "", "bar-height" => "20", "margin" => "30","padding" => "30", "data"=>"data"}
