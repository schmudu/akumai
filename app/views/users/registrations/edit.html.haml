%h2
  Edit #{resource_name.to_s.humanize}

%br/
.row
  .col-md-2
  .col-md-8
    = form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :class=> "form-horizontal" }) do |f|
      = devise_error_messages!

      -# email
      .form-group
        = f.label(:email, :class =>'col-sm-3 control-label')
        .col-sm-9
          = f.email_field(:email, {:class => 'form-control', :autofocus => true, :placeholder => "Email"})
      - if devise_mapping.confirmable? && resource.pending_reconfirmation?
        %div
          Currently waiting confirmation for: #{resource.unconfirmed_email}
      %br/

      -# password
      .form-group
        = f.label(:password, :class =>'col-sm-3 control-label')
        .col-sm-9
          = f.password_field(:password, {:autocomplete => "off", :class => 'form-control'})
      %br/

      -# password_confirmation
      .form-group
        = f.label(:password_confirmation, :class =>'col-sm-3 control-label')
        .col-sm-9
          = f.password_field(:password_confirmation, {:class => 'form-control'})
      %br/


      -# current_password
      .form-group
        = f.label(:current_password, :class =>'col-sm-3 control-label')
        .col-sm-9
          = f.password_field(:current_password, {:class => 'form-control'})
          %i (we need your current password to confirm your changes)

      -# Submit
      .form-group
        .col-sm-3
        .col-sm-9
          = f.submit "Update"

    %h3 Cancel my account
    %p
      Unhappy? #{button_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete}
    = link_to "Back", :back
  .col-md-2
